# 发生了哪些事呢
1. 浏览器解析url，确定了Web服务器和我文件名，生成请求信息， 即http报文 
2. 查询DNS服务器得到域名对应的ip地址
    对于DNS，有根域名服务器，顶级域名服务器，权威域名服务器，本地域名服务器
    域名解析：客户端发送给本地，本地找根，再找顶级，再找权威；当然会先查缓存：浏览器缓存、操作系统缓存、hosts文件

   根域的 DNS 服务器信息保存在互联网中所有的 DNS 服务器中
3. http报文交给操作系统的协议栈，协议栈里能够进行传输层和网络层的封装
    在传输层加上包头
    在网络层加上包头
4. 在IP头前面加上MAC头部形成MAC包，解决下一站发送问题
5. 通过网卡把二进制信号转化成电信号，进行传播
    网卡驱动会在网络包开头加上报头和起始帧分界符，在末尾加上用于检测错误的帧校验序列
   * 起始帧分界符是一个用来表示包起始位置的标记
   * 末尾的 FCS（帧校验序列）用来检查包传输过程是否有损坏
6. 到达交换机
   交换机工作在 MAC 层，也称为二层网络设备。
   和网卡不同，交换机的端口不具有 MAC 地址。
   交换机的 MAC 地址表主要包含两个信息：
    * 一个是设备的 MAC 地址，
    * 另一个是该设备连接在交换机的哪个端口上。
   交换机找到接收MAC地址对应的端口并发送，找不到就每个端口都发
7. 经过交换机的转发到达路由器
   路由器是基于 IP 设计的，俗称三层网络设备，路由器的各个端口都具有 MAC 地址和 IP 地址；
   而交换机是基于以太网设计的，俗称二层网络设备，交换机的端口不具有 MAC 地址。
    路由器的过程：接收包，查询路由表确定输出端口，发送
   
* http报文
分为请求报文和响应报文
请求报文：请求行 （方法、url、版本）、消息头（首部字段名、字段值）、消息体
响应报文：状态行（版本、状态码、短语）、消息头、消息体
* TCP报文
                    源端口号        目的端口号
                            序列号（解决包乱序的问题）
                          确认序列号（目的是确认发出去对方是否有收到。如果没有收到就应该重新发送，直到送达，这个是为了解决丢包的问题。
                首部长度  保留6位 各个转态位 窗口大小（流量控制
                            选项
                            数据
http包会以MSS的长度拆分
* IP报文
        版本  首部长度  服务类型
             总长度
            标识
        标志  片偏移
        TTL 协议
        首部校验和
        源地址IP
        目标地址IP
        选项
        数据
* 客户端有多个网卡时，IP头部的源地址应该怎么选？
查路由表，将目的IP与路由表的子网掩码进行与运算，并比较是否和路由表的ip一样，是就写那个
* MAC头部
        接收方MAC地址
        发送方MAC地址
        协议类型（TCP/IP里，只使用IP和ARP
确定接收方的MAC地址，通过ARP协议，ARP在子网里通过广播发送，得到 接收方的MAC地址，当然，也不用每次都用ARP
，操作系统可以缓存MAC，不过只有几分钟
* 
        